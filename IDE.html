<!DOCTYPE html><html lang="en" data-theme="light"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>IDE Integration - 未命名文档</title>
    
    
        <script src="asset/theme.js"></script>
    
<link rel="stylesheet" type="text/css" href="asset/plugins/theme-default/829.index.css"><style data-rh="true">
:root {
    --ttw-primary-color: #21ba45;
}
</style></head>
<body>
<div id="root"><div><div class="Loading__loading___1m_fZ"><div class="Loading__bar___21yOt" style="background: rgb(33, 186, 69); width: 0%; display: none;"><div class="Loading__peg___3Y_28"></div></div></div><div class="Loading__spinner___11Pm4"><div class="Loading__icon___3OOyu" style="display: none; border-color: #21ba45;"></div></div></div><div class="body--4cb30f26 with-sidebar--64a35dd2"><div class="sidebar--92cdcd4d"><div class="header--fbbaa9f2"><a class="title--8b08af4e" href="."><img src="logo.png" width="60" height="60" alt="logo">未命名文档</a><div class="search--783540ff"><input type="search" placeholder="请输入搜索关键词……" value=""></div></div><div class="body--4cb30f26"><div class="summary--54538abb"><div class="part--2f00bd41"><div class="title--3df1ba16">Available documentation</div><ul><li class=""><div class="item--9cbf6482 active--c30e4dc0"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="IDE.html">IDE Integration</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="Docker-compose.html">Docker-compose</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="Schema.html">Images Schema</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="Pipeline.html">Production image Pipeline</a></div></li></ul></div></div></div><div class="copyright--2aa57f2d">本文档使用 <a href="https://x.topthink.com" target="_blank">顶想云</a> 构建</div></div><div class="main--6aaec551"><div class="content--dbbad732"><article><h1>IDE Integration</h1><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="ide-integration"></a>IDE integration</h1><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="up-container"></a>Up container</h3><p>Run this in your project root path: ~~~~~~~</p><pre><code>docker run -itd --name php7 -v $PWD:/app -p 2244:22 jorge07/alpine-php:7.4-dev
</code></pre><ul><li><code>-v $PWD:/app</code> will create a volume to share the host folder with the container</li><li><code>-p 2244:22</code> will export the 22 container port to the 2244 host machine. This will allow us to connect the IDE via SSH.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="phpstorm"></a>PHPSTORM</h3><ul><li>Languages &amp; Frameworks &gt; PHP &gt; Add &gt; Remote...<ul><li>SSH Credentials<ul><li>HOST<ul><li>Docker-machine: 192.168.99.100 (<a href="https://github.com/adlogix/docker-machine-nfs">Recommended</a>)</li><li>Linux or Docker4{MAc|Windows}: localhost</li></ul></li><li>port: 2244 (or the one you choose on the docker run command)</li><li>user: root</li><li>pass: root</li><li>Executable: /usr/bin/php</li></ul></li><li>Path mappings:<ul><li> -&gt; /app</li></ul></li></ul></li></ul><p><strong>Remote Interpreter</strong><br><img src="https://raw.githubusercontent.com/jorge07/alpine-php/master/doc/images/remote-interpreter.png" alt="Remote"></p><p><strong>Mapping</strong><br><img src="https://raw.githubusercontent.com/jorge07/alpine-php/master/doc/images/mapping.png" alt="Remote"></p><p>Now your breakpoints should work.</p><p>You can also use the oficial PHPStrom documentation for <a href="https://confluence.jetbrains.com/display/PhpStorm/Working+with+Remote+PHP+Interpreters+in+PhpStorm">remote connexion via SSH Credentials</a> they will explain it better than me.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="steps-in-detail"></a>Steps in detail</h3><p><strong>Credentials</strong></p><p>Use the ARG variables to change the <em>USER</em> and <em>PASSWORD</em> for ssh and <em>COMPOSER_VERSION</em> to select an specific version on the build.</p><p><strong>Default Credentials Values:</strong></p><ul><li>user: root</li><li>pass: root</li></ul><p><strong>Binary path</strong></p><ul><li>/usr/bin/php</li></ul><p><strong>Xdebug.so path</strong></p><ul><li>/usr/lib/php{7}/modules/xdebug.so</li></ul><p><strong>Server mappings</strong></p><p>Add your <strong>Path mapping</strong> from your workspace folder to the <code>/app</code> folder inside the container.</p><p><strong>Xdebug</strong></p><p>If you want to <a href="https://confluence.jetbrains.com/display/PhpStorm/Debugging+PHP+CLI+scripts+with+PhpStorm">debug php script commands remotely</a> (I.E: php bin/console something) with Your IDE (PHPStorm in this case):</p><ul><li>Set the PHP_IDE_CONFIG environment variable with <strong>serverName=SomeName</strong></li><li>where <strong>SomeName</strong> is the name of the server configured in <em>Settings / Preferences | Languages &amp; Frameworks | PHP | Servers</em> in the PHPStorm IDE.</li></ul><div class="navigation--93943883"><span class="next--1623c556">下一篇:<a href="Docker-compose.html">Docker-compose</a></span></div></article><aside><ul><li><p><a href="#ide-integration">IDE integration</a></p><ul><li><ul><li><a href="#up-container">Up container</a></li><li><a href="#phpstorm">PHPSTORM</a></li><li><a href="#steps-in-detail">Steps in detail</a></li></ul></li></ul></li></ul></aside></div></div></div></div>
<script type="application/payload+json">
{"book":{"id":"6"},"summary":[{"title":"Available documentation","articles":[{"title":"IDE Integration","ref":"IDE.md","path":"IDE.html","children":[]},{"title":"Docker-compose","ref":"Docker-compose.md","path":"Docker-compose.html","children":[]},{"title":"Images Schema","ref":"Schema.md","path":"Schema.html","children":[]},{"title":"Production image Pipeline","ref":"Pipeline.md","path":"Pipeline.html","children":[]}]}],"config":{"structure":{"summary":"README.md"},"root":"doc"},"file":{"path":"IDE.html","content":"# IDE integration\n\n### Up container\n\nRun this in your project root path: ~~~~~~~\n    \n    docker run -itd --name php7 -v $PWD:\/app -p 2244:22 jorge07\/alpine-php:7.4-dev\n\n- `-v $PWD:\/app` will create a volume to share the host folder with the container\n- `-p 2244:22` will export the 22 container port to the 2244 host machine. This will allow us to connect the IDE via SSH.\n\n### PHPSTORM\n\n- Languages & Frameworks > PHP > Add > Remote...\n    - SSH Credentials\n        - HOST\n            - Docker-machine: 192.168.99.100 ([Recommended](https:\/\/github.com\/adlogix\/docker-machine-nfs))\n            - Linux or Docker4{MAc|Windows}: localhost\n        - port: 2244 (or the one you choose on the docker run command)\n        - user: root\n        - pass: root \n        - Executable: \/usr\/bin\/php\n    - Path mappings:\n        - <Project root> -> \/app\n      \n**Remote Interpreter**\n![Remote](https:\/\/raw.githubusercontent.com\/jorge07\/alpine-php\/master\/doc\/images\/remote-interpreter.png)\n\n**Mapping**\n![Remote](https:\/\/raw.githubusercontent.com\/jorge07\/alpine-php\/master\/doc\/images\/mapping.png)\n\nNow your breakpoints should work.\n\nYou can also use the oficial PHPStrom documentation for [remote connexion via SSH Credentials](https:\/\/confluence.jetbrains.com\/display\/PhpStorm\/Working+with+Remote+PHP+Interpreters+in+PhpStorm) they will explain it better than me.\n\n### Steps in detail\n\n**Credentials**\n\nUse the ARG variables to change the *USER* and *PASSWORD* for ssh and *COMPOSER_VERSION* to select an specific version on the build. \n\n**Default Credentials Values:**\n\n- user: root \n- pass: root\n\n**Binary path**\n\n- \/usr\/bin\/php\n\n**Xdebug.so path**\n\n- \/usr\/lib\/php{7}\/modules\/xdebug.so\n\n**Server mappings**\n\nAdd your **Path mapping** from your workspace folder to the `\/app` folder inside the container.\n\n**Xdebug**\n\nIf you want to [debug php script commands remotely](https:\/\/confluence.jetbrains.com\/display\/PhpStorm\/Debugging+PHP+CLI+scripts+with+PhpStorm) (I.E: php bin\/console something) with Your IDE (PHPStorm in this case):\n \n - Set the PHP_IDE_CONFIG environment variable with **serverName=SomeName**\n - where **SomeName** is the name of the server configured in *Settings \/ Preferences | Languages & Frameworks | PHP | Servers* in the PHPStorm IDE.\n","meta":{"mtime":""}},"options":{}}
</script>

<script src="https://jsdelivr.topthink.com/npm/lodash@4.17/lodash.min.js"></script>

<script src="https://jsdelivr.topthink.com/npm/react@17/umd/react.production.min.js"></script>

<script src="https://jsdelivr.topthink.com/npm/react-dom@17/umd/react-dom.production.min.js"></script>

<script src="asset/index.js"></script>

<script src="asset/plugins/theme-default/index.js"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>


</body></html>