{"version":3,"sources":["webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/scss/body.module.scss","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/scss/summary.module.scss","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./.topwrite/use-config.ts","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/components/summary.tsx","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/scss/search.module.scss","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/components/search.tsx","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/components/sidebar.tsx","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/scss/main.module.scss","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/components/document.tsx","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/components/body.tsx","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/scss/head.module.scss","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/components/head.tsx","webpack://TopWritePlugins = typeof TopWritePlugins === \"undefined\" ? {} : TopWritePlugins; TopWritePlugins['theme-default']/./src/components/root.tsx"],"names":["useConfig","config","useBook","schema","getPluginConfig","Item","item","path","current","useSelector","article","useArticle","open","setOpen","useState","getValue","level","getDepth","getLevel","isDescendant","active","getPath","hasChildren","children","length","useEffect","handleSpaceClick","useCallback","className","onClick","BsCaretDownFill","size","BsCaretRightFill","Link","to","title","Items","items","map","index","Part","part","articles","Parts","parts","Summary","summary","Search","fetching","results","useModel","intl","useIntl","Spinner","animation","variant","BsSearch","formatMessage","defaultMessage","Sidebar","keyword","fetch","placeholder","useTitle","debounced","useMemo","debounce","handleSearch","e","target","value","body","Logo","type","defaultValue","onChange","PoweredBy","Document","file","prevArticle","getPrevArticle","nextArticle","getNextArticle","window","scrollTo","Markdown","content","Body","firstArticle","getFirstArticle","history","relative","Head","navs","nav","url","startsWith","linkArticle","getArticle","ref","href","Root","loading","show","color"],"mappings":"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","file":"829.index.js","sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"body\":\"body--4cb30f26\",\"sidebar\":\"sidebar--92cdcd4d\",\"header\":\"header--fbbaa9f2\",\"title\":\"title--8b08af4e\",\"search\":\"search--783540ff\",\"copyright\":\"copyright--2aa57f2d\",\"with-head\":\"with-head--416eb2f1\",\"withHead\":\"with-head--416eb2f1\",\"with-sidebar\":\"with-sidebar--64a35dd2\",\"withSidebar\":\"with-sidebar--64a35dd2\"};","// extracted by mini-css-extract-plugin\nexport default {\"summary\":\"summary--54538abb\",\"part\":\"part--2f00bd41\",\"title\":\"title--3df1ba16\",\"item\":\"item--9cbf6482\",\"whole\":\"whole--9f70f484\",\"space\":\"space--8603ccbf\",\"text\":\"text--59d9f9de\",\"selected\":\"selected--3b82c009\",\"active\":\"active--c30e4dc0\",\"disabled\":\"disabled--60b293f5\",\"open\":\"open--57a75e6f\"};","import { useBook, BaseConfig } from 'topwrite';\r\nimport { Config } from './config';\r\n\r\ndeclare const PLUGIN_NAME: string;\r\n\r\nexport default function useConfig(): BaseConfig<Config> {\r\n    const { config } = useBook();\r\n\r\n    const schema = require('../config.json');\r\n\r\n    return config.getPluginConfig(PLUGIN_NAME, schema);\r\n};\r\n","import { useSelector, SummaryPart, SummaryArticle, Link, useArticle } from 'topwrite';\r\nimport { FC, useState, useEffect, useCallback } from 'react';\r\nimport style from '../scss/summary.module.scss';\r\nimport { BsCaretDownFill } from '@react-icons/all-files/bs/BsCaretDownFill';\r\nimport { BsCaretRightFill } from '@react-icons/all-files/bs/BsCaretRightFill';\r\nimport classNames from 'classnames';\r\nimport useConfig from '@@/use-config';\r\n\r\nconst Item: FC<{ item: SummaryArticle }> = ({ item }) => {\r\n    const config = useConfig();\r\n    const { path: current } = useSelector('file');\r\n    const article = useArticle();\r\n\r\n    const [open, setOpen] = useState(() => {\r\n        return config.getValue('auto_open') && item.level.getDepth() === 1 ||\r\n            (article && item.getLevel().isDescendant(article.getLevel()));\r\n    });\r\n\r\n    const active = current === item.getPath();\r\n    const hasChildren = item.children.length > 0;\r\n\r\n    useEffect(() => {\r\n        if (!open && (article && item.getLevel().isDescendant(article.getLevel()))) {\r\n            setOpen(true);\r\n        }\r\n    }, [item, article]);\r\n\r\n    const handleSpaceClick = useCallback(() => {\r\n        if (hasChildren) {\r\n            setOpen(!open);\r\n        }\r\n    }, [open, item.getPath(), hasChildren]);\r\n\r\n    return <li className={classNames({ [style.open]: open })}>\r\n        <div className={classNames(style.item, {\r\n            [style.active]: active,\r\n            [style.disabled]: !item.getPath(),\r\n        })}>\r\n            <div className={style.whole} />\r\n            <span className={style.space} onClick={handleSpaceClick}>\r\n                {hasChildren && (open ? <BsCaretDownFill size={12} /> : <BsCaretRightFill size={12} />)}\r\n            </span>\r\n            <Link className={style.text} to={item}>\r\n                {item.title}\r\n            </Link>\r\n        </div>\r\n        {hasChildren && <Items items={item.children} />}\r\n    </li>;\r\n};\r\n\r\nconst Items: FC<{ items: SummaryArticle[] }> = ({ items }) => {\r\n    return <ul>\r\n        {items.map((item, index) => <Item key={`item-${index}`} item={item} />)}\r\n    </ul>;\r\n};\r\n\r\nconst Part: FC<{ part: SummaryPart }> = ({ part }) => {\r\n    return <div className={style.part}>\r\n        <div className={style.title}>\r\n            {part.title}\r\n        </div>\r\n        <Items items={part.articles} />\r\n    </div>;\r\n};\r\n\r\nconst Parts: FC<{ parts: SummaryPart[] }> = ({ parts }) => {\r\n    if (parts.length === 1 && !parts[0].title) {\r\n        return <Items items={parts[0].articles} />;\r\n    }\r\n\r\n    return <>{parts.map((part, index) => {\r\n        return <Part key={`index-${index}`} part={part} />;\r\n    })}</>;\r\n};\r\n\r\nexport default function Summary() {\r\n    const { summary } = useSelector('book');\r\n    return <div className={style.summary}>\r\n        <Parts parts={summary.parts} />\r\n    </div>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"search\":\"search--be318508\",\"results\":\"results--6f02af9f\",\"active\":\"active--85ea07bc\",\"empty\":\"empty--1648d2ff\"};","import { Link, useModel, useSelector, useIntl } from 'topwrite';\r\nimport style from '../scss/search.module.scss';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport classNames from 'classnames';\r\nimport { BsSearch } from '@react-icons/all-files/bs/BsSearch';\r\n\r\nexport default function Search() {\r\n    const [{ fetching, results }] = useModel('search');\r\n    const { path: current } = useSelector('file');\r\n\r\n    const intl = useIntl();\r\n\r\n    return <div className={style.search}>\r\n        {fetching && <Spinner animation=\"border\" variant=\"success\" />}\r\n\r\n        {results.length > 0 ?\r\n            <div className={style.results}>\r\n                <ul>\r\n                    {results.map((article) => {\r\n                        return <li className={classNames({ [style.active]: article.path === current })}\r\n                                   key={article.path}>\r\n                            <Link to={article.path}>{article.title}</Link>\r\n                        </li>;\r\n                    })}\r\n                </ul>\r\n            </div>\r\n            : <div className={style.empty}>\r\n                <BsSearch size={36} />\r\n                <p>{intl.formatMessage({ defaultMessage: '暂无相关搜索结果' })}</p>\r\n            </div>}\r\n    </div>;\r\n}\r\n","import style from '../scss/body.module.scss';\r\nimport Summary from '@/components/summary';\r\nimport { Link, Logo, PoweredBy, useIntl, useModel, useTitle } from 'topwrite';\r\nimport { useCallback, useMemo } from 'react';\r\nimport Search from '@/components/search';\r\nimport { debounce } from 'lodash';\r\nimport useConfig from '@@/use-config';\r\n\r\nexport default function Sidebar() {\r\n\r\n    const intl = useIntl();\r\n    const [{ keyword }, { fetch }] = useModel('search');\r\n    const config = useConfig();\r\n    const placeholder = intl.formatMessage({ defaultMessage: '请输入搜索关键词……' });\r\n\r\n    const title = useTitle();\r\n\r\n    const debounced = useMemo(() => debounce(fetch, 300), [fetch]);\r\n\r\n    const handleSearch = useCallback((e) => {\r\n        debounced(e.target.value);\r\n    }, [debounced]);\r\n\r\n    let body;\r\n    if (keyword) {\r\n        body = <Search />;\r\n    } else {\r\n        body = <Summary />;\r\n    }\r\n\r\n    return <div className={style.sidebar}>\r\n        <div className={style.header}>\r\n            {config.getValue('navs').length === 0 && <Link className={style.title} to=\".\">\r\n                <Logo />\r\n                {title}\r\n            </Link>}\r\n            <div className={style.search}>\r\n                <input type=\"search\" defaultValue={keyword} onChange={handleSearch} placeholder={placeholder} />\r\n            </div>\r\n        </div>\r\n        <div className={style.body}>\r\n            {body}\r\n        </div>\r\n        <PoweredBy className={style.copyright} />\r\n    </div>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"main\":\"main--6aaec551\",\"toolbar\":\"toolbar--af3e5b9e\",\"navigation\":\"navigation--93943883\",\"prev\":\"prev--8f062b74\",\"next\":\"next--1623c556\"};","import { Link, Markdown, SummaryArticle, useSelector, useIntl } from 'topwrite';\r\nimport style from '../scss/main.module.scss';\r\nimport { useEffect, useMemo } from 'react';\r\n\r\ninterface DocumentProps {\r\n    article: SummaryArticle\r\n}\r\n\r\nexport default function Document({ article }: DocumentProps) {\r\n\r\n    const file = useSelector('file');\r\n    const { summary } = useSelector('book');\r\n    const intl = useIntl();\r\n\r\n    const prevArticle = useMemo(() => summary.getPrevArticle(article), [summary, article]);\r\n    const nextArticle = useMemo(() => summary.getNextArticle(article), [summary, article]);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, [article]);\r\n\r\n    return <div className={style.main}>\r\n        <div className={style.toolbar}>\r\n            <h1>{article.title}</h1>\r\n        </div>\r\n        <Markdown className={style.content}>\r\n            {file.content}\r\n        </Markdown>\r\n        <div className={style.navigation}>\r\n            {prevArticle && <span className={style.prev}>\r\n                {intl.formatMessage({ defaultMessage: '上一篇' })}:<Link to={prevArticle}>{prevArticle.title}</Link>\r\n            </span>}\r\n            {nextArticle && <span className={style.next}>\r\n                {intl.formatMessage({ defaultMessage: '下一篇' })}:<Link to={nextArticle}>{nextArticle.title}</Link>\r\n            </span>}\r\n        </div>\r\n    </div>;\r\n}\r\n","import { useEffect } from 'react';\r\nimport style from '../scss/body.module.scss';\r\nimport Sidebar from '@/components/sidebar';\r\nimport { useSelector, history, useArticle } from 'topwrite';\r\nimport Document from '@/components/document';\r\nimport classNames from 'classnames';\r\nimport useConfig from '@@/use-config';\r\n\r\nexport default function Body() {\r\n\r\n    const file = useSelector('file');\r\n    const { summary } = useSelector('book');\r\n    const config = useConfig();\r\n\r\n    const article = useArticle();\r\n\r\n    useEffect(() => {\r\n        if (!article) {\r\n            const firstArticle = summary.getFirstArticle();\r\n            if (firstArticle) {\r\n                history.replace(file.relative(firstArticle.getPath()));\r\n            }\r\n        }\r\n    }, [article]);\r\n\r\n    if (!article) {\r\n        return null;\r\n    }\r\n\r\n    return <div className={classNames(\r\n        style.body,\r\n        style.withSidebar,\r\n        { [style.withHead]: config.getValue('navs').length > 0 })}\r\n    >\r\n        <Sidebar />\r\n        <Document article={article} />\r\n    </div>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"head\":\"head--058b913b\",\"title\":\"title--18735434\",\"navs\":\"navs--be057733\"};","import style from '../scss/head.module.scss';\r\nimport { NoName1 } from '@@/config';\r\nimport { Link, Logo, useBook, useTitle } from 'topwrite';\r\nimport path from 'path';\r\n\r\ninterface HeadProps {\r\n    navs: NoName1\r\n}\r\n\r\nexport default function Head({ navs }: HeadProps) {\r\n\r\n    const title = useTitle();\r\n    const { summary } = useBook();\r\n\r\n    if (navs.length > 0) {\r\n        return <div className={style.head}>\r\n            <Link className={style.title} to=\".\">\r\n                <Logo />\r\n                {title}\r\n            </Link>\r\n            <div className={style.navs}>\r\n                {navs.map((nav, index) => {\r\n                    if (!nav.url.startsWith('http') && path.extname(nav.url) === '.md') {\r\n                        const linkArticle = summary.getArticle(article => article.ref === nav.url);\r\n                        if (linkArticle) {\r\n                            return <Link key={index} to={linkArticle}>{nav.title}</Link>;\r\n                        }\r\n                    }\r\n                    return <a key={index} href={nav.url} target=\"_blank\">{nav.title}</a>;\r\n                })}\r\n            </div>\r\n        </div>;\r\n    }\r\n    return null;\r\n}\r\n","import Body from '@/components/body';\r\nimport Head from '@/components/head';\r\nimport '../scss/root.scss';\r\nimport useConfig from '@@/use-config';\r\nimport Loading from 'react-loading-bar';\r\nimport { useSelector } from 'topwrite';\r\n\r\nexport default function Root() {\r\n\r\n    const config = useConfig();\r\n    const { loading } = useSelector('page');\r\n\r\n    return <>\r\n        <Loading show={loading} color=\"#21ba45\" />\r\n        <Head navs={config.getValue('navs')} />\r\n        <Body />\r\n    </>;\r\n}\r\n"],"sourceRoot":""}