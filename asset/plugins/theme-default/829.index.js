(self.webpackChunkTopWritePlugins_typeof_TopWritePlugins_undefined_TopWritePlugins_TopWritePlugins_theme_default_=self.webpackChunkTopWritePlugins_typeof_TopWritePlugins_undefined_TopWritePlugins_TopWritePlugins_theme_default_||[]).push([[829],{829:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>ee});var t=i(246),a=i(804);const n="body--4cb30f26",c="sidebar--92cdcd4d",l="header--fbbaa9f2",d="title--8b08af4e",o="search--783540ff",r="copyright--2aa57f2d",v="with-head--416eb2f1",u="with-sidebar--64a35dd2";var j=i(907);const g="summary--54538abb",h="part--2f00bd41",f="title--3df1ba16",b="item--9cbf6482",m="whole--9f70f484",x="space--8603ccbf",p="text--59d9f9de",O="active--c30e4dc0",N="disabled--60b293f5",k="open--57a75e6f";var y=i(893),_=i(411),P=i(42),M=i.n(P);function L(){const{config:e}=(0,j.useBook)(),s=i(150);return e.getPluginConfig("theme-default",s)}const T=({item:e})=>{const s=L(),{path:i}=(0,j.useSelector)("file"),n=(0,j.useArticle)(),[c,l]=(0,a.useState)((()=>s.getValue("auto_open")&&1===e.level.getDepth()||n&&e.getLevel().isDescendant(n.getLevel()))),d=i===e.getPath(),o=e.children.length>0;(0,a.useEffect)((()=>{!c&&n&&e.getLevel().isDescendant(n.getLevel())&&l(!0)}),[e,n]);const r=(0,a.useCallback)((()=>{o&&l(!c)}),[c,e.getPath(),o]);return(0,t.jsxs)("li",Object.assign({className:M()({[k]:c})},{children:[(0,t.jsxs)("div",Object.assign({className:M()(b,{[O]:d,[N]:!e.getPath()})},{children:[(0,t.jsx)("div",{className:m},void 0),(0,t.jsx)("span",Object.assign({className:x,onClick:r},{children:o&&(c?(0,t.jsx)(y.S,{size:12},void 0):(0,t.jsx)(_.A,{size:12},void 0))}),void 0),(0,t.jsx)(j.Link,Object.assign({className:p,to:e},{children:e.title}),void 0)]}),void 0),o&&(0,t.jsx)(w,{items:e.children},void 0)]}),void 0)},w=({items:e})=>(0,t.jsx)("ul",{children:e.map(((e,s)=>(0,t.jsx)(T,{item:e},`item-${s}`)))},void 0),S=({part:e})=>(0,t.jsxs)("div",Object.assign({className:h},{children:[(0,t.jsx)("div",Object.assign({className:f},{children:e.title}),void 0),(0,t.jsx)(w,{items:e.articles},void 0)]}),void 0),W=({parts:e})=>1!==e.length||e[0].title?(0,t.jsx)(t.Fragment,{children:e.map(((e,s)=>(0,t.jsx)(S,{part:e},`index-${s}`)))},void 0):(0,t.jsx)(w,{items:e[0].articles},void 0);function C(){const{summary:e}=(0,j.useSelector)("book");return(0,t.jsx)("div",Object.assign({className:g},{children:(0,t.jsx)(W,{parts:e.parts},void 0)}),void 0)}const A="search--be318508",V="results--6f02af9f",D="active--85ea07bc",z="empty--1648d2ff";var B=i(468),E=i(661);function F(){const[{fetching:e,results:s}]=(0,j.useModel)("search"),{path:i}=(0,j.useSelector)("file"),a=(0,j.useIntl)();return(0,t.jsxs)("div",Object.assign({className:A},{children:[e&&(0,t.jsx)(B.Z,{animation:"border",variant:"success"},void 0),s.length>0?(0,t.jsx)("div",Object.assign({className:V},{children:(0,t.jsx)("ul",{children:s.map((e=>(0,t.jsx)("li",Object.assign({className:M()({[D]:e.path===i})},{children:(0,t.jsx)(j.Link,Object.assign({to:e.path},{children:e.title}),void 0)}),e.path)))},void 0)}),void 0):(0,t.jsxs)("div",Object.assign({className:z},{children:[(0,t.jsx)(E.d,{size:36},void 0),(0,t.jsx)("p",{children:a.formatMessage({id:"s722Vp",defaultMessage:[{type:0,value:"暂无相关搜索结果"}]})},void 0)]}),void 0)]}),void 0)}var I=i(215);function $(){const e=(0,j.useIntl)(),[{keyword:s},{fetch:i}]=(0,j.useModel)("search"),v=L(),u=e.formatMessage({id:"/Dny8n",defaultMessage:[{type:0,value:"请输入搜索关键词……"}]}),g=(0,j.useTitle)(),h=(0,a.useMemo)((()=>(0,I.debounce)(i,300)),[i]),f=(0,a.useCallback)((e=>{h(e.target.value)}),[h]);let b;return b=s?(0,t.jsx)(F,{},void 0):(0,t.jsx)(C,{},void 0),(0,t.jsxs)("div",Object.assign({className:c},{children:[(0,t.jsxs)("div",Object.assign({className:l},{children:[0===v.getValue("navs").length&&(0,t.jsxs)(j.Link,Object.assign({className:d,to:"."},{children:[(0,t.jsx)(j.Logo,{},void 0),g]}),void 0),(0,t.jsx)("div",Object.assign({className:o},{children:(0,t.jsx)("input",{type:"search",defaultValue:s,onChange:f,placeholder:u},void 0)}),void 0)]}),void 0),(0,t.jsx)("div",Object.assign({className:n},{children:b}),void 0),(0,t.jsx)(j.PoweredBy,{className:r},void 0)]}),void 0)}const Z={main:"main--6aaec551",toolbar:"toolbar--af3e5b9e",navigation:"navigation--93943883",prev:"prev--8f062b74",next:"next--1623c556"};function q({article:e}){const s=(0,j.useSelector)("file"),{summary:i}=(0,j.useSelector)("book"),n=(0,j.useIntl)(),c=(0,a.useMemo)((()=>i.getPrevArticle(e)),[i,e]),l=(0,a.useMemo)((()=>i.getNextArticle(e)),[i,e]);return(0,a.useEffect)((()=>{window.scrollTo(0,0)}),[e]),(0,t.jsxs)("div",Object.assign({className:Z.main},{children:[(0,t.jsx)("div",Object.assign({className:Z.toolbar},{children:(0,t.jsx)("h1",{children:e.title},void 0)}),void 0),(0,t.jsx)(j.Markdown,Object.assign({className:Z.content},{children:s.content}),void 0),(0,t.jsxs)("div",Object.assign({className:Z.navigation},{children:[c&&(0,t.jsxs)("span",Object.assign({className:Z.prev},{children:[n.formatMessage({id:"udtnTl",defaultMessage:[{type:0,value:"上一篇"}]}),":",(0,t.jsx)(j.Link,Object.assign({to:c},{children:c.title}),void 0)]}),void 0),l&&(0,t.jsxs)("span",Object.assign({className:Z.next},{children:[n.formatMessage({id:"CD8c8b",defaultMessage:[{type:0,value:"下一篇"}]}),":",(0,t.jsx)(j.Link,Object.assign({to:l},{children:l.title}),void 0)]}),void 0)]}),void 0)]}),void 0)}function G(){const e=(0,j.useSelector)("file"),{summary:s}=(0,j.useSelector)("book"),i=L(),c=(0,j.useArticle)();return(0,a.useEffect)((()=>{if(!c){const i=s.getFirstArticle();i&&j.history.replace(e.relative(i.getPath()))}}),[c]),c?(0,t.jsxs)("div",Object.assign({className:M()(n,u,{[v]:i.getValue("navs").length>0})},{children:[(0,t.jsx)($,{},void 0),(0,t.jsx)(q,{article:c},void 0)]}),void 0):null}const H="head--058b913b",J="title--18735434",K="navs--be057733";var Q=i(425),R=i.n(Q);function U({navs:e}){const s=(0,j.useTitle)(),{summary:i}=(0,j.useBook)();return e.length>0?(0,t.jsxs)("div",Object.assign({className:H},{children:[(0,t.jsxs)(j.Link,Object.assign({className:J,to:"."},{children:[(0,t.jsx)(j.Logo,{},void 0),s]}),void 0),(0,t.jsx)("div",Object.assign({className:K},{children:e.map(((e,s)=>{if(!e.url.startsWith("http")&&".md"===R().extname(e.url)){const a=i.getArticle((s=>s.ref===e.url));if(a)return(0,t.jsx)(j.Link,Object.assign({to:a},{children:e.title}),s)}return(0,t.jsx)("a",Object.assign({href:e.url,target:"_blank"},{children:e.title}),s)}))}),void 0)]}),void 0):null}var X=i(824),Y=i.n(X);function ee(){const e=L(),{loading:s}=(0,j.useSelector)("page");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Y(),{show:s,color:"#21ba45"},void 0),(0,t.jsx)(U,{navs:e.getValue("navs")},void 0),(0,t.jsx)(G,{},void 0)]},void 0)}}}]);
//# sourceMappingURL=829.index.js.map