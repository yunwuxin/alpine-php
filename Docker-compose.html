<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Docker-compose - Untitled</title>
    
    
    
    
</head>
<body>
<div id="root"></div>
<script type="application/payload+json">
{"book":{"id":"6rqjd5"},"summary":[{"title":"Featured","articles":[{"title":"IDE Integration","ref":"IDE.md","path":"IDE.html","children":[]},{"title":"Docker-compose","ref":"Docker-compose.md","path":"Docker-compose.html","children":[]},{"title":"Images Schema","ref":"Schema.md","path":"Schema.html","children":[]},{"title":"Using Shortcuts and serverless to build a personal Apple Health API","ref":"Pipeline.md","path":"Pipeline.html","children":[]}]}],"config":{"structure":{"summary":"README.md"},"plugins":["highlight"],"pluginsConfig":{"upyun":{"bucket":"topwrite-test","username":"webpack","password":"@encrypted:U2FsdGVkX1\/VM\/XVKWj3EwboAAjS850WhPC7G9GXzLHUeMf7IExBGubwdh9lNIO7AswI8dKr0IcVLFaliJOHSA=="}},"root":"doc"},"file":{"path":"Docker-compose.html","content":"# Using Docker Compose\n\nMinimal Configuration:\n\n```YAML\nversion: '2'\nservices:\n  fpm:\n      image: jorge07\/alpine-php:7-dev\n      ports:\n        - \"2244:22\"\n        - \"9000:9000\"\n      volumes:\n        - \"$PWD:\/app\"\n```\n\nYou can optionally add ENV params:\n\n```YAML\n\n ...\n   fpm:\n      environment:\n        - PHP_IDE_CONFIG=serverName=SomeName\n```\n\n# Nginx integration\n\nThis example is based on a [Symfony](http:\/\/symfony.com\/) project but can be what you want. Full example [here](https:\/\/github.com\/jorge07\/ddd-playground)\n\nProject structure:\n\n![Tree](https:\/\/raw.githubusercontent.com\/jorge07\/alpine-php\/master\/doc\/images\/folder-structure.png)\n\n*etc\/infrastructure\/dev\/nginx\/demo.conf*\n\n```nginx\nserver {\n Â server_name demo.dev www.demo.dev;\n  root \/app\/web;\n\n  location \/ {\n     try_files $uri \/app_dev.php$is_args$args;\n  }\n\n  location ~ ^\/(app|app_dev|config)\\.php(\/|$) {\n\n     fastcgi_pass fpm:9000;\n     fastcgi_split_path_info ^(.+\\.php)(\/.*)$;\n     include fastcgi_params;\n\n     fastcgi_param  SCRIPT_FILENAME  $realpath_root$fastcgi_script_name;\n     fastcgi_param DOCUMENT_ROOT $realpath_root;\n  }\n}\n```\n\n*etc\/infrastructure\/dev\/nginx\/Dockerfile*\n\n```Dockerfile\n FROM nginx:1.11-alpine\n\n COPY demo.conf \/etc\/nginx\/conf.d\/default.conf\n```\n\n*\/etc\/infrastructure\/dev\/docker-compose.yml*\n\n```YAML\n version: '2'\n services:\n   nginx:\n     build: nginx\n     depends_on:\n       - fpm\n     ports:\n       - \"80:80\"\n     volumes:\n       - \"$PWD\/web:\/app\/web\"\n\n   fpm:\n     image: jorge07\/alpine-php:7-dev\n     ports:\n       - \"2244:22\"\n       - \"9000:9000\"\n     volumes:\n       - \"$PWD:\/app\"\n```\n\nUp enviroment\n\n```\n $ docker-compose -f \/etc\/infrastructure\/dev\/docker-compose.yml up -d\n \n```\n\n","meta":{"mtime":"2021-06-19T23:55:18+08:00"}},"options":{}}
</script>

    <script src="https://jsdelivr.topthink.com/npm/lodash@4.17/lodash.min.js"></script>

    <script src="https://jsdelivr.topthink.com/npm/react@17/umd/react.production.min.js"></script>

    <script src="https://jsdelivr.topthink.com/npm/react-dom@17/umd/react-dom.production.min.js"></script>

    <script src="asset/index.js"></script>

    <script src="asset/plugins/highlight/index.js"></script>

    <script src="asset/plugins/theme-default/index.js"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>
</body>
</html>
